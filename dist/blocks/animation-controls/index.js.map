{"version":3,"file":"index.js","mappings":"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","sources":["webpack://up-gsap-animate-2/./blocks/animation-controls/components/PreviewButton.js","webpack://up-gsap-animate-2/webpack/bootstrap","webpack://up-gsap-animate-2/webpack/runtime/define property getters","webpack://up-gsap-animate-2/webpack/runtime/hasOwnProperty shorthand","webpack://up-gsap-animate-2/webpack/runtime/make namespace object","webpack://up-gsap-animate-2/./blocks/animation-controls/index.js"],"sourcesContent":["const { __ } = window.wp.i18n;\nconst { Button } = window.wp.components;\nconst { createElement, useState, useEffect } = window.wp.element;\nconst { select } = window.wp.data;\n\nfunction PreviewButton({ animation, clientId }) {\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [gsapLoaded, setGsapLoaded] = useState(false);\n\n    useEffect(() => {\n        const checkGsap = () => {\n            if (window.gsap) {\n                setGsapLoaded(true);\n            } else {\n                setTimeout(checkGsap, 100);\n            }\n        };\n        checkGsap();\n    }, []);\n\n    const getBlockElement = (clientId) => {\n        // Essayer différents sélecteurs pour trouver le bloc\n        const selectors = [\n            `[data-block=\"${clientId}\"]`, // Ancien sélecteur\n            `[data-type][data-block=\"${clientId}\"]`, // Sélecteur avec data-type\n            `.block-editor-block-list__block[data-block=\"${clientId}\"]`, // Sélecteur complet\n            `#block-${clientId}` // ID du bloc\n        ];\n\n        for (const selector of selectors) {\n            const element = document.querySelector(selector);\n            if (element) {\n                console.log('Found block with selector:', selector);\n                return element;\n            }\n        }\n\n        // Si on ne trouve toujours pas le bloc, chercher dans l'iframe de l'éditeur\n        const editor = document.querySelector('iframe[name=\"editor-canvas\"]');\n        if (editor?.contentDocument) {\n            for (const selector of selectors) {\n                const element = editor.contentDocument.querySelector(selector);\n                if (element) {\n                    console.log('Found block in iframe with selector:', selector);\n                    return element;\n                }\n            }\n        }\n\n        return null;\n    };\n\n    const playPreview = () => {\n        if (!animation?.enabled || isPlaying || !gsapLoaded || !window.gsap) {\n            console.warn('Animation not ready:', {\n                enabled: animation?.enabled,\n                isPlaying,\n                gsapLoaded,\n                gsapExists: !!window.gsap\n            });\n            return;\n        }\n\n        const gsap = window.gsap;\n\n        // Trouver le bloc en utilisant la fonction helper\n        const blockElement = getBlockElement(clientId);\n        if (!blockElement) {\n            console.warn('Block element not found. Details:', {\n                clientId,\n                availableBlocks: document.querySelectorAll('[data-block]').length,\n                iframeExists: !!document.querySelector('iframe[name=\"editor-canvas\"]')\n            });\n            return;\n        }\n\n        setIsPlaying(true);\n\n        // Sauvegarder les propriétés initiales\n        const originalProps = {\n            transform: blockElement.style.transform || 'none',\n            opacity: blockElement.style.opacity || '1',\n            transition: blockElement.style.transition || 'none',\n            visibility: blockElement.style.visibility || 'visible'\n        };\n\n        // Désactiver les transitions CSS\n        blockElement.style.transition = 'none';\n        blockElement.style.visibility = 'visible';\n\n        // Configuration de l'animation\n        let fromState = { opacity: 0 };\n        let toState = { \n            opacity: 1,\n            duration: animation.duration || 1,\n            ease: animation.ease || 'power2.out',\n            onComplete: () => {\n                setIsPlaying(false);\n                // Restaurer les propriétés initiales\n                Object.assign(blockElement.style, originalProps);\n            }\n        };\n\n        // Configurer l'animation selon le type\n        switch (animation.type) {\n            case 'slide':\n                fromState.x = -100;\n                toState.x = 0;\n                break;\n            case 'scale':\n                fromState.scale = 0;\n                toState.scale = 1;\n                break;\n            case 'rotate':\n                fromState.rotation = -180;\n                toState.rotation = 0;\n                break;\n        }\n\n        try {\n            // Créer et exécuter l'animation\n            gsap.set(blockElement, fromState);\n            gsap.to(blockElement, toState);\n        } catch (error) {\n            console.error('Animation error:', error);\n            setIsPlaying(false);\n            Object.assign(blockElement.style, originalProps);\n        }\n    };\n\n    if (!gsapLoaded) {\n        return createElement(Button, {\n            variant: 'secondary',\n            disabled: true,\n            className: 'upgsap-preview-button'\n        }, __('Loading GSAP...', 'up-gsap-animate-2'));\n    }\n\n    return createElement(Button, {\n        variant: 'secondary',\n        icon: isPlaying ? 'controls-pause' : 'controls-play',\n        onClick: playPreview,\n        disabled: isPlaying || !animation?.enabled,\n        className: 'upgsap-preview-button'\n    }, isPlaying ? __('Playing...', 'up-gsap-animate-2') : __('Preview Animation', 'up-gsap-animate-2'));\n}\n\nexport default PreviewButton;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const { createHigherOrderComponent } = window.wp.compose;\nconst { createElement, Fragment } = window.wp.element;\nconst { InspectorControls } = window.wp.blockEditor;\nconst { PanelBody, SelectControl, TextControl, RangeControl, ToggleControl } = window.wp.components;\nconst { addFilter } = window.wp.hooks;\nconst { __ } = window.wp.i18n;\n\nimport PreviewButton from './components/PreviewButton';\n\n// Ajouter les attributs d'animation à tous les blocs\nfunction addAnimationAttributes(settings) {\n    settings.attributes = {\n        ...settings.attributes,\n        upgsapAnimation: {\n            type: 'object',\n            default: {\n                enabled: false,\n                type: 'fade',\n                duration: 1,\n                ease: 'power2.out',\n                trigger: {\n                    type: 'scroll',\n                    start: 'top center',\n                    scrubType: 'none',\n                    markers: false\n                }\n            }\n        }\n    };\n\n    return settings;\n}\n\n// Ajouter le panneau de contrôle d'animation à l'inspecteur\nconst withAnimationControls = createHigherOrderComponent((BlockEdit) => {\n    return (props) => {\n        const { attributes, setAttributes, clientId } = props;\n        const { upgsapAnimation } = attributes;\n\n        // Si le bloc n'a pas les attributs d'animation, ne rien faire\n        if (!upgsapAnimation) {\n            return createElement(BlockEdit, props);\n        }\n\n        const updateAnimation = (key, value) => {\n            setAttributes({\n                upgsapAnimation: {\n                    ...upgsapAnimation,\n                    [key]: value\n                }\n            });\n        };\n\n        const updateTrigger = (key, value) => {\n            setAttributes({\n                upgsapAnimation: {\n                    ...upgsapAnimation,\n                    trigger: {\n                        ...upgsapAnimation.trigger,\n                        [key]: value\n                    }\n                }\n            });\n        };\n\n        // Ajouter la classe d'animation si activée\n        if (upgsapAnimation.enabled) {\n            props.attributes.className = `${props.attributes.className || ''} upgsap-animated`.trim();\n        }\n\n        const scrollControls = upgsapAnimation.trigger.type === 'scroll' ? [\n            createElement(TextControl, {\n                label: __('Start Position', 'up-gsap-animate-2'),\n                help: __('Example: top center, 50% 75%', 'up-gsap-animate-2'),\n                value: upgsapAnimation.trigger.start,\n                onChange: (value) => updateTrigger('start', value)\n            }),\n            createElement(SelectControl, {\n                label: __('Scrub Type', 'up-gsap-animate-2'),\n                value: upgsapAnimation.trigger.scrubType,\n                options: [\n                    { label: 'None', value: 'none' },\n                    { label: 'True', value: 'true' },\n                    { label: 'Smooth', value: 'smooth' }\n                ],\n                onChange: (value) => updateTrigger('scrubType', value)\n            }),\n            createElement(ToggleControl, {\n                label: __('Show Markers', 'up-gsap-animate-2'),\n                checked: upgsapAnimation.trigger.markers,\n                onChange: (value) => updateTrigger('markers', value)\n            })\n        ] : [];\n\n        const animationControls = upgsapAnimation.enabled ? [\n            createElement(SelectControl, {\n                label: __('Animation Type', 'up-gsap-animate-2'),\n                value: upgsapAnimation.type,\n                options: [\n                    { label: 'Fade', value: 'fade' },\n                    { label: 'Slide', value: 'slide' },\n                    { label: 'Scale', value: 'scale' },\n                    { label: 'Rotate', value: 'rotate' }\n                ],\n                onChange: (value) => updateAnimation('type', value)\n            }),\n            createElement(RangeControl, {\n                label: __('Duration', 'up-gsap-animate-2'),\n                value: upgsapAnimation.duration,\n                onChange: (value) => updateAnimation('duration', value),\n                min: 0.1,\n                max: 5,\n                step: 0.1\n            }),\n            createElement(SelectControl, {\n                label: __('Easing', 'up-gsap-animate-2'),\n                value: upgsapAnimation.ease,\n                options: [\n                    { label: 'Power2.out', value: 'power2.out' },\n                    { label: 'Power2.inOut', value: 'power2.inOut' },\n                    { label: 'Back.out', value: 'back.out' },\n                    { label: 'Elastic.out', value: 'elastic.out' }\n                ],\n                onChange: (value) => updateAnimation('ease', value)\n            }),\n            createElement(SelectControl, {\n                label: __('Trigger Type', 'up-gsap-animate-2'),\n                value: upgsapAnimation.trigger.type,\n                options: [\n                    { label: 'Scroll', value: 'scroll' },\n                    { label: 'Load', value: 'load' },\n                    { label: 'Click', value: 'click' },\n                    { label: 'Hover', value: 'hover' }\n                ],\n                onChange: (value) => updateTrigger('type', value)\n            }),\n            ...scrollControls\n        ] : [];\n\n        return createElement(Fragment, null, [\n            createElement(BlockEdit, props),\n            createElement(InspectorControls, null,\n                createElement(PanelBody, {\n                    title: __('GSAP Animation', 'up-gsap-animate-2'),\n                    initialOpen: false\n                }, [\n                    createElement(ToggleControl, {\n                        label: __('Enable Animation', 'up-gsap-animate-2'),\n                        checked: upgsapAnimation.enabled,\n                        onChange: (value) => updateAnimation('enabled', value)\n                    }),\n                    upgsapAnimation.enabled && [\n                        createElement(PreviewButton, {\n                            animation: upgsapAnimation,\n                            clientId: clientId\n                        }),\n                        ...animationControls\n                    ]\n                ])\n            )\n        ]);\n    };\n}, 'withAnimationControls');\n\n// Modifier le HTML de sortie des blocs pour ajouter les attributs d'animation\nfunction addAnimationDataAttribute(extraProps, blockType, attributes) {\n    const { upgsapAnimation } = attributes;\n\n    if (upgsapAnimation && upgsapAnimation.enabled) {\n        return {\n            ...extraProps,\n            className: `${extraProps.className || ''} upgsap-animated`.trim(),\n            'data-animation': JSON.stringify(upgsapAnimation)\n        };\n    }\n\n    return extraProps;\n}\n\n// Enregistrer les filtres\naddFilter(\n    'blocks.registerBlockType',\n    'up-gsap-animate-2/add-animation-attributes',\n    addAnimationAttributes\n);\n\naddFilter(\n    'editor.BlockEdit',\n    'up-gsap-animate-2/with-animation-controls',\n    withAnimationControls\n);\n\naddFilter(\n    'blocks.getSaveContent.extraProps',\n    'up-gsap-animate-2/add-animation-data',\n    addAnimationDataAttribute\n);"],"names":["__","window","wp","i18n","Button","components","_window$wp$element","element","createElement","useState","useEffect","select","data","PreviewButton","_ref","animation","clientId","_useState","_useState2","_slicedToArray","isPlaying","setIsPlaying","_useState3","_useState4","gsapLoaded","setGsapLoaded","checkGsap","gsap","setTimeout","getBlockElement","selectors","concat","_i","_selectors","length","selector","document","querySelector","console","log","editor","contentDocument","_iterator","_createForOfIteratorHelper","_step","s","n","done","value","err","e","f","playPreview","enabled","warn","gsapExists","blockElement","availableBlocks","querySelectorAll","iframeExists","originalProps","transform","style","opacity","transition","visibility","fromState","toState","duration","ease","onComplete","Object","assign","type","x","scale","rotation","set","to","error","variant","disabled","className","icon","onClick","createHigherOrderComponent","compose","Fragment","InspectorControls","blockEditor","_window$wp$components","PanelBody","SelectControl","TextControl","RangeControl","ToggleControl","addFilter","hooks","addAnimationAttributes","settings","attributes","_objectSpread","upgsapAnimation","trigger","start","scrubType","markers","withAnimationControls","BlockEdit","props","setAttributes","updateAnimation","key","_defineProperty","updateTrigger","trim","scrollControls","label","help","onChange","options","checked","animationControls","min","max","step","title","initialOpen","_toConsumableArray","addAnimationDataAttribute","extraProps","blockType","JSON","stringify"],"sourceRoot":""}